<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Form</title>   
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
        rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
        integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous"
      />
      <style>
        .form-inline {
          display: flex;
          /* align-items: center; */
          margin-bottom: 10px;
        }
        .form-inline label {
          margin-right: 10px;
          display: block;
        }
        .form-inline input[type="text"],
        .form-inline input[type="radio"],
        .form-inline select {
          margin-right: 10px;
          flex: 1;
          width: 50%;
        }
        .form-inline button {
          margin-left: auto;
        }
        .form-check-inline {
          display: inline-flex;
        }
        .form-field {
          margin-bottom: 10px;
        }
        .form-field label {
          display: inline-block;
          width: 100px;
        }
        .form-field input,
        .form-field select {
          width: 50%;
        }
        .listInvestment input {
          width: 100%;
        }
        .form-control {
          width: 100%;
        }
      </style>
    </head>
<body>
  <div class="container">
    <hr style="width: 100%; border-top: 10px solid #000000" />
    <h4>1. APPLICANT/ANNUITANT INFORMATION</h4>
    <br/>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="fisrSection">

        <div class="row">

          <div class="col-lg-3 form-inline">
            <label>{{ customer.gender.label }}</label>
            {{ customer.gender }}
          </div>
          <div class="col-lg-4 form-inline">
            <label>{{ customer.last_name.label }}</label>
            {{ customer.last_name }}
          </div>
          <div class="col-lg-4 form-inline">
            <label>{{ customer.first_name.label }}</label>
            {{ customer.first_name }}
          </div>
          
        </div>
        <div class="row">
          <div class="col-lg-3 form-inline">
            <label>{{ customer.initials.label }}</label>
            {{ customer.initials }}
          </div>
          <div class="col-lg-4 form-inline">
            <label>{{ customer.sin_number.label }}</label>
            {{ customer.sin_number }}
          </div>
        </div>
        <hr/>
        <h5> ACCOUNT INFO:</h5>
        <br/>

        <!-- <div id="accounts-forms">
            {{ account_info_formset.management_form }}
            {% for form in account_info_formset %}
                <div class="account-form">
                    {{ form.as_p }}
                </div>
            {% endfor %}
        </div>
        <button type="button" id="add-account">Add Account</button> -->

        
        <div class="row">
          <div id="accounts-forms" class="col-lg-12 form-inline">
              {{ account_info_formset.management_form }}
              {% for form in account_info_formset %}
                  <div class="account-form row col-lg-12 form-inline">
                      <div class="col-lg-4 form-group">
                          <label style="font-weight: bold">{{ form.type_account.label }}</label>
                          {{ form.type_account }}
                      </div>
                      <div class="col-lg-6 form-group">
                          <label>{{ form.account_number.label }}</label>
                          {{ form.account_number }}            
                      </div>
                     
                      </div>
                  </div>
              {% endfor %}
          </div>
          <div class="col-lg-12">
              <button type="button" id="add-account" class="btn btn-primary">Add Account</button>
          </div>


        <div class="secondSection">
          <div class="row">
            <hr style="width: 100%; border-top: 10px solid #000000" />
            <h4>2. FINANCIAL INFORMATION AND INVESTMENT EXPERIENCE</h4>
            <h6>
              Include information on you, your Co-Applicant(s) and your
              spouse(s). For non-personal accounts, include information on the
              company or organization
            </h6>
            
          </div>
          <br/>
          <div class="row">
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6">{{ financialInfo.gross.label }}</label>
              {{ financialInfo.gross }}
            </div>

            <div class="col-lg-6 form-inline">
              <label class="col-lg-6">{{ financialInfo.net_worth.label }}</label>
              {{ financialInfo.net_worth }}
            </div>
          </div>
          <hr/>

          <div class="row">
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6">{{ financialInfo.fixed_assets.label }}</label>
              {{ financialInfo.fixed_assets }}
              <span
                >(the value of all your fixed assets including real estate,
                securities, less all of your debts including mortgages.)</span
              >
            </div>
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6"
                >{{ financialInfo.liquid_assets.label }}</label
              >
              {{ financialInfo.liquid_assets }}
              <span>
                (bank accounts, T-Bills, and other assets that can be readily
                converted to cash without risk of loss or penalty)</span
              >
            </div>
          </div>
          <hr/>

          <div class="row">
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6"
                >{{ financialInfo.coApplicant_investment_knowledge.label }}</label
              >
              {{ financialInfo.coApplicant_investment_knowledge }}
            </div>
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6"
                >{{ financialInfo.applicant_invest_knowledge.label }}</label
              >
              {{ financialInfo.applicant_invest_knowledge }}
            </div>                      
          </div>
          <hr/>

          <div class="row">
            <div class="col-lg-4 form-inline">
              <label class="col-lg-6">{{ financialInfo.risk_tolerance.label }}</label>
              {{ financialInfo.risk_tolerance }}
            </div>
            
            <div class="col-lg-4 form-inline">
              <label class="col-lg-6">{{ financialInfo.time_horizon.label }}</label>
              {{ financialInfo.time_horizon }}
            </div>
          </div>
          <hr/>


          <div class="row">
            <span class="col-lg-12" style="margin: 20px;">
                i) List investment objectives:
            </span>
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6">{{ financialInfo.liquidity.label_tag }}</label>
              {{ financialInfo.liquidity }}
              {{ financialInfo.liquidity.errors }}
            </div>
            <div class="col-lg-6 form-inline">
              <label class="col-lg-6">{{ financialInfo.safety.label_tag }}</label>
              {{ financialInfo.safety }}
              {{ financialInfo.safety.errors }}
            </div>
            </div>
            <div class="row">
                <div class="col-lg-6  form-inline">
                <label class="col-lg-6">{{ financialInfo.income.label_tag }}</label>
            {{ financialInfo.income }}
                {{ financialInfo.income.errors }}
              </div>
              <div class="col-lg-6 form-inline">
                <label class="col-lg-6"
                  >{{ financialInfo.long_term_growth.label_tag }}</label
                >
                {{ financialInfo.long_term_growth }}
                {{ financialInfo.long_term_growth.errors }}
              </div>
            </div>

            <div class="row">
                <div class="col-lg-6 form-inline">
                    <label class="col-lg-6"
                      >{{ financialInfo.short_term_growth.label_tag }}</label
                    >
                    {{ financialInfo.short_term_growth }}
                    {{ financialInfo.short_term_growth.errors }}
                  </div>
                  <div class="col-lg-6 form-inline">
                    <label class="col-lg-6">{{ financialInfo.speculation.label_tag }}</label>
                    {{ financialInfo.speculation }}
                    {{ financialInfo.speculation.errors }}
                  </div>
            </div>
            <div class="row">
                <div class="col-lg-6 form-inline">
                    <label class="col-lg-6">{{ financialInfo.inflation_hedging.label_tag }}</label>
                  
                  {{ financialInfo.inflation_hedging }}
                  {{ financialInfo.inflation_hedging.errors }}
                </div>
                
               
          {% if financialInfo.errors %}
          <ul>
            {% for field in financialInfo %} {% for error in field.errors %}
            <li>{{ error }}</li>
            {% endfor %} {% endfor %}
          </ul>
          {% endif %}
          <div class="row col-lg-10">
            <button class="btn btn-info"  type="submit">Submit</button>
          </div>
        </div>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
          var form_idx = "{{ account_info_formset.total_form_count }}";
          $("#add-account").click(function () {
              var newForm = $("#empty-form-template").html().replace(/__prefix__/g, form_idx);
              $("#accounts-forms").append(newForm);
              form_idx++;
              // Update the TOTAL_FORMS value
              $("#id_accounts-TOTAL_FORMS").val(form_idx);
          });
          $(document).on('click', '.remove-account', function () {
                $(this).closest('.account-form').remove();
                updateTotalForms();
            });
            function updateTotalForms() {
                var totalForms = $('#account-forms .account-form').length;
                $('#id_accounts-TOTAL_FORMS').val(totalForms);
            }

      });
  </script>

    <!-- <template id="empty-form">
        <div class="account-form">
            {{ account_info_formset.empty_form.as_p }}
        </div>
    </template> -->
    <template id="empty-form-template">
      <div class="account-form row col-lg-12 form-inline">
          <div class="col-lg-4 form-group">
              <label style="font-weight: bold">Type Account</label>
              <select name="accounts-__prefix__-type_account" class="form-control">
                  <option value="" selected>Select one</option>
                  <option value="I">INVESTMENT</option>
                  <option value="R">REGISTERED</option>
                  <option value="T">TFSA</option>
              </select>
          </div>
          <div class="col-lg-6 form-group">
              <label>Account Number</label>
              <input type="text" name="accounts-__prefix__-account_number" class="form-control" maxlength="255">
          </div>
          <button type="button" class="remove-account">Remove</button>
      </div>
  </template>
</body>
</html>